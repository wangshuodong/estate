<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.wangsd.web.dao.UsersMapper">
    <!--<resultMap id="userCustomReturn" type="com.wangsd.web.modelCustom.UserCustom"
               extends="com.bqcl.gasinternet.dao.AccountMapper.BaseResultMap">
        <result column="roleName" property="roleName"/>
        <association property="company" javaType="com.bqcl.gasinternet.model.Company">
            <id column="companyid" property="id"/>
            <result column="companyname" property="companyname"/>
            <result column="departmentname" property="departmentname"/>
            <result column="province" property="province"/>
            <result column="city" property="city"/>
            <result column="area" property="area"/>
            <result column="detailadress" property="detailadress"/>
            <result column="phone" property="phone"/>
            <result column="filepath" property="filepath"/>
            <result column="type" property="type"/>
            <result column="longitude" property="longitude"/>
            <result column="latitude" property="latitude"/>
            <result column="parentid" property="parentid"/>
            <result column="status" property="status"/>
            <result column="createtime" property="createtime"/>
            <result column="deletestatus" property="deletestatus"/>
        </association>

    </resultMap>-->

    <!-- 用户登录成功，根据用户名查询信息 -->
    <select id="selectByUsername" parameterType="String" resultType="UserCustom">
        select a.*, c.*
        from account a left join company c on a.companyId = c.id
        where a.username=#{username}
    </select>
</mapper>